<div class="main-content" id="maincontent">
    <div class="content">
        <div class="col-md-12 col-sm-6 col-xs-4 contnt-wrapper">

            <div class="col-sm-6 col-md-6 col-xs-3 no-padding">
                <span class="legal">Download Mandate</span>
            </div>
            <!--<div class="rightmenu">
               <span id="btnp">
                        <input type="button" class="btn btn-success" id="btnreject"
                               (click)="RejectMandate(FromDate.value,ToDate.value,Bank.value)" value="Reject Mandate" />
                     -   </span>
                        <span id="btnspa">
                            <i class="fa fa-download" aria-hidden="true"></i>
                            <input type="button" class=" btn btn-success" id="btnexcel"
                                   value="Download Excel" (click)="download()" />
                        </span>
                        <div class="toolbar pull-right">
                <ul class="toolbar-content">


                    <li>
                        <i class="fa fa-download" aria-hidden="true" title="Export"></i>
                        <label>
                            Download Mandate Excel File
                        </label>
                    </li>
                    <li>
                        <i class="fa fa-file-text" aria-hidden="true" title="New"></i>
                        <label>
                            Download Scanned Mandate
                        </label>
                    </li>
                    <li>
                        <i class="fa fa-pencil-square-o" aria-hidden="true" title="Edit"></i>
                        <label>
                            Reject Mandate
                        </label>
                    </li>
                    <li>
                        <i class="fa fa-floppy-o" aria-hidden="true" title="Save"></i>
                        <label>
                            Submit
                        </label>
                    </li>
                    <li style="display: none">
                        <i class="fa fa-key" aria-hidden="true" title="Reset Password"></i>
                        <label>
                            Reset Password
                        </label>
                    </li>
                    <li style="display: none">
                        <i class="fa fa-times" aria-hidden="true"
                           title="Delete"></i>
                        <label>
                            Delete
                        </label>
                    </li>
                    <li style="display:none;">
                        <i class="fa fa-reply" aria-hidden="true" title="Back"></i>
                        <label>
                            Back
                        </label>
                    </li>
                </ul>
            </div>
            </div>-->


        </div>
        <div class="row">
            <div class="col-md-6 col-sm-6 col-xs-6"></div>
            <div class="col-md-6 col-sm-6 col-xs-12" id="btngroup">
                <span id="btnp">
                    <input type="button" class="btn btn-success" id="btnreject"
                           (click)="show()" data-toggle="modal" data-target="#myModal" value="Reject Mandate" />

                </span>
                <span id="btnspa">
                    <i class="fa fa-download" aria-hidden="true"></i>
                    <input type="button" class=" btn btn-success" id="btnexcel"
                           value="Download Excel" (click)="download()" />
                </span>

                <!--<span id="btnspa">
                    <i class="fa fa-download" aria-hidden="true"></i>
                    <input type="button" class=" btn btn-success" id="btnexcel"
                           value="Download Scanned Mandate"  />
                </span>-->
                <!--<span id="btnspa">
                    <i class="fa fa-download" aria-hidden="true"></i>
                    <input type="button" class=" btn btn-success" id="btnexcel"
                           value="Download Scanned Mandate" (click)="downloadScannedMandate()" />
                </span>-->



            </div>
        </div>
        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="row no-padding">
                <div class="col-md-4 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label class="col-sm-5 col-md-4 col-xs-4 control-label no-padding" for="form-field-1">
                            From Date
                        </label>
                        <div [formGroup]="dmandateForm" class="col-sm-7 col-md-7 col-xs-7 no-padding-left displayinlineblock">
                            <input type="date" id="fromdate" formControlName="fromdate" [ngModel]="fromdate | date:'yyyy-MM-dd'" class="col-sm-12 col-md-12 col-xs-12" style="height: 22px;" #FromDate />
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-xs-12  no-padding ">
                    <div class="form-group">
                        <label class="col-sm-6 col-md-4 col-xs-4 control-label no-padding" for="form-field-1">
                            To Date
                        </label>

                        <div class="col-sm-6 col-md-7 col-xs-7 no-padding-left displayinlineblock">
                            <form [formGroup]="dmandateForm" (ngSubmit)="SubmitToDate()">
                                <input type="date" value="1" formControlName="todate" [ngModel]="todate | date:'yyyy-MM-dd'" (change)="BindGrid(FromDate.value,ToDate.value,Bank.value,RefNo.value)" class="col-sm-12 col-md-12 col-xs-12" style="height: 22px;" #ToDate />
                            </form>
                        </div>

                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-xs-12  no-padding">
                    <div class="form-group">
                        <label class="col-sm-6 col-md-4 col-xs-4 control-label no-padding" for="form-field-1">
                            Reference No.
                        </label>

                        <div [formGroup]="dmandateForm" class="col-sm-6 col-md-7 col-xs-7 no-padding-left displayinlineblock">
                            <input type="text" value="1" formControlName="referenceNo" class="col-sm-12 col-md-12 col-xs-12" style="height: 22px;" #RefNo />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row no-padding">
                <div class="col-md-4 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label class="col-sm-6 col-md-4 col-xs-4 control-label no-padding" for="form-field-1">
                            Bank
                        </label>
                        <div class="col-sm-6 col-md-7 col-xs-7 no-padding-left displayinlineblock">
                            <!--<form [formGroup]="dmandateForm1">  formControlName="scode"-->
                            <select id="bankid" class="alldropdown" #Bank (change)="BindGrid(FromDate.value,ToDate.value,Bank.value,RefNo.value)">
                                <!--<option value="">Select</option>-->
                                <option *ngFor="let lang of dmandate"
                                        value={{lang.sponsorbankcode}}>
                                    {{lang.name}}
                                </option>
                            </select>
                            <!--</form>-->
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-xs-12  no-padding">
                    <input type="button" class="col-md-2 col-sm-12 col-xs-12 btn btn-success" id="btnOk"
                           (click)="BindGrid(FromDate.value,ToDate.value,Bank.value,RefNo.value)" value="Search" style="margin-right: 12%; margin-top: 2%; margin-bottom: 2%;" />
                    <label id="lblName">{{errormsg}}</label>

                    <!--<input type="button" class="col-md-2 col-sm-12 col-xs-12 btn btn-success" id=""
                (click)="downloadScannedMandate()" value="Download Scanned Mandate" style="margin-right: 12%; margin-top: 2%; margin-bottom: 2%;" />
            </div>-->

                    <div class="col-md-4 col-sm-4 col-xs-12  no-padding">

                    </div>
                </div>
            </div>
            <div class="col-md-12 col-sm-12 col-xs-12 loaderposition" id="divLoarder" *ngIf="Preloader">
                <img src="../../assets/images/loader.gif" style="margin-left: 45%;margin-top: 19%;" />
            </div>
            <div class="col-md-12 col-sm-12 col-xs-12" id="tbldiv">
                <table id="tbldownmandate">
                    <thead>
                        <tr>
                            <th style="width:150px;"><input type="checkbox" vaule="all" name="all" (click)="toggleSelect($event)">All</th>
                            <th style="width:150px;">Mandate ID</th>
                            <th style="width:500px;">Name</th>
                            <th style="width:150px;">Date On Mandate</th>
                            <th style="width:150px;">Mandate Printed</th>
                            <th style="width:150px;">Mandate Scan</th>
                            <th style="width:150px;">Reference</th>
                            <th style="width:600px;">Amount</th>
                            <th style="width:300px;">Account No.</th>
                            <th style="width:150px;">IFSC/MICR</th>
                            <th style="width:600px;">Bank Name</th>
                            <th style="width:150px;">Frequency</th>
                            <th style="width:150px;">Debit Type</th>
                            <th style="width:150px;">Debit To</th>
                            <th style="width:150px;">Created on</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of bindgrid">
                            <td style="width:150px;"><input type="checkbox" value="data.selected" [checked]="data.selected" (change)="onChange($event,data); data.selected = !(data.selected)" id="is3dCheckBox"></td>
                            <td style="width:150px;">{{data.mandateid}}</td>
                            <td style="width:500px;">{{data.Customer1}}</td>
                            <td style="width:150px;">{{data.DateOnMandate}}</td>
                            <td style="width:150px;">{{data.IsPrint}}</td>
                            <td style="width:150px;">{{data.IsScan}}</td>
                            <td style="width:150px;">{{data.Refrence1}}</td>
                            <td style="width:600px;">{{data.Amount}}</td>
                            <td style="width:300px;">{{data.AcNo}}</td>
                            <td style="width:150px;">{{data.Code}}</td>
                            <td style="width:600px;">{{data.BankName}}</td>
                            <td style="width:150px;">{{data.Frequency}}</td>
                            <td style="width:150px;">{{data.DebitType}}</td>
                            <td style="width:150px;">{{data.ToDebit}}</td>
                            <td style="width:150px;">{{data.createdon}}</td>

                        </tr>
                        <tr *ngIf="bindgrid?.length == 0">
                            <td colspan="3">No Record Found!</td>
                        </tr>

                    </tbody>

                </table>

            </div>

        </div>
    </div>


    <div class="container">
        <!-- Modal -->
        <div class="modal" id="myModal" role="dialog" [style.display]="showModal ? 'block':'none'">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">

                        <h5 class="modal-title" style="text-align:center">Are you Sure to Reject Mandate</h5>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-sm-3">
                                <label>Reason</label>
                            </div>
                            <div class="col-sm-8">
                                <textarea class="form-control" id="myform" #RejectedReason placeholder="Enter The Reason"></textarea>
                            </div>

                        </div>
                    </div>
                    <div class="modal-footer" style="text-align:center">

                        <button type="button" class="btn btn-primary" (click)="RejectMandate(FromDate.value,ToDate.value,Bank.value,RejectedReason.value)">Reject</button> &nbsp;
                        <button type="button" class="btn btn-default" (click)="hide()" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>

    </div>


    <div class="modal" id="myModal" [style.display]="showModalSuccess ? 'block' : 'none'">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">
                        <img src="../../assets/images/saveSuccessImg.png" />
                    </h4>
                    <button type="button" class="close" data-dismiss="modal" (click)="hideSuccess()">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <p>MandateId Rejected Successfully</p>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-dismiss="modal" (click)="hideSuccess()">Close</button>
                </div>

            </div>
        </div>
    </div>
    </div>

